import{d as x,a as n,q as I,c as C,b as D,H as T,e,I as E,G as N,w as r,K as P,C as k,o as v,l as s,D as z,F as B,L as i,_ as L}from"./index-CWo0abK5.js";/* empty css                  *//* empty css               *//* empty css                 */import{i as V}from"./http-CaWKIfWx.js";function q(d){return V.post("/inventoryRecord/page",d)}const Q={class:"inventory-container"},S=x({__name:"Inventory",setup(d){const u=n([]),p=n(!1),c=n(1),g=n(10),_=n(0),m=async()=>{p.value=!0;try{const t=await q({page:c.value,size:g.value});t.data.code==="200"&&(u.value=t.data.data.records,_.value=t.data.data.total)}catch(t){console.error("获取库存记录失败:",t)}finally{p.value=!1}},b=t=>{c.value=t,m()};return I(()=>{m()}),(t,l)=>{const a=z,f=B,y=k,h=P,w=E;return v(),C("div",Q,[l[1]||(l[1]=D("h2",null,"库存管理",-1)),T((v(),N(y,{data:u.value,"default-sort":{prop:"recordId",order:"descending"},style:{width:"100%",height:"90%"},"row-style":{height:"70px"}},{default:r(()=>[e(a,{prop:"recordId",label:"记录ID"}),e(a,{prop:"productId",label:"商品ID"}),e(a,{prop:"productName",label:"商品名称"}),e(a,{prop:"beforeQuantity",label:"变更前库存"}),e(a,{prop:"quantity",label:"变动数量"}),e(a,{prop:"afterQuantity",label:"变更后库存"}),e(a,{prop:"changeType",label:"变动类型"},{default:r(o=>[e(f,{type:o.row.changeType==="入库"?"success":"danger"},{default:r(()=>[s(i(o.row.changeType),1)]),_:2},1032,["type"])]),_:1}),e(a,{prop:"unitPrice",label:"单价"},{default:r(o=>[s(" ￥"+i(o.row.unitPrice??0),1)]),_:1}),e(a,{prop:"amount",label:"总金额"},{default:r(o=>[s(" ￥"+i(o.row.amount??0),1)]),_:1}),l[0]||(l[0]=s("/> ")),e(a,{prop:"recordDate",label:"记录日期"}),e(a,{prop:"userName",label:"操作人"}),e(a,{prop:"description",label:"描述"})]),_:1},8,["data"])),[[w,p.value]]),e(h,{"current-page":c.value,"page-size":g.value,total:_.value,layout:"prev, pager, next",background:"",style:{"margin-top":"20px","text-align":"right"},onCurrentChange:b},null,8,["current-page","page-size","total"])])}}}),R=L(S,[["__scopeId","data-v-6e77b9e7"]]);export{R as default};
