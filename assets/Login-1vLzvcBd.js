import{d as b,u as w,r as v,a as I,c as V,b as u,e as o,w as s,E,f as m,g as k,o as y,h as S,i as x,j as F,k as B,l as D,m as N,n as p,_ as h}from"./index-CWo0abK5.js";import"./el-form-item-l0sNRNKZ.js";/* empty css                 */import{l as C}from"./auth-Z5GdIdVR.js";import"./http-CaWKIfWx.js";const T={class:"login-container"},q={class:"login-card"},L={class:"login-icon"},R=b({__name:"Login",setup(U){const c=w().userInfo,t=v({username:"newusers",password:"pwd123"}),_={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},d=I(),f=()=>{var l;(l=d.value)==null||l.validate(async e=>{if(e)try{const a=await C(t);a.data.code==="200"?(localStorage.setItem("token",a.data.data.token),localStorage.setItem("userInfo",JSON.stringify({value:a.data.data,expire:Date.now()+24*60*60*1e3})),c.value=a.data.data,setTimeout(()=>{N.push("/app")},500),p.success("登录成功")):p.error("登录失败")}catch(a){console.error(a)}})};return(l,e)=>{const a=E,i=F,r=x,g=B;return y(),V("div",T,[u("div",q,[u("div",L,[o(a,null,{default:s(()=>[o(m(S))]),_:1})]),e[3]||(e[3]=u("h2",null,"欢迎登录",-1)),o(m(k),{model:t,rules:_,ref_key:"loginFormRef",ref:d,class:"login-form","label-position":"top"},{default:s(()=>[o(r,{label:"用户名",prop:"username"},{default:s(()=>[o(i,{modelValue:t.username,"onUpdate:modelValue":e[0]||(e[0]=n=>t.username=n),placeholder:"请输入用户名"},null,8,["modelValue"])]),_:1}),o(r,{label:"密码",prop:"password"},{default:s(()=>[o(i,{modelValue:t.password,"onUpdate:modelValue":e[1]||(e[1]=n=>t.password=n),type:"password",placeholder:"请输入密码"},null,8,["modelValue"])]),_:1}),o(r,null,{default:s(()=>[o(g,{type:"primary",class:"login-button",onClick:f},{default:s(()=>e[2]||(e[2]=[D("开始使用")])),_:1})]),_:1})]),_:1},8,["model"])])])}}}),G=h(R,[["__scopeId","data-v-2da87e27"]]);export{G as default};
